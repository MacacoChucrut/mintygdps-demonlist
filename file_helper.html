<!DOCTYPE html>
<html>
<head>
  <title>MintyGDPS Code Generator</title>
  <link rel="stylesheet" href="main.css">
  <style>
    body {
      background:#111;
      color:white;
      font-family:Trebuchet MS;
    }

    .panel {
      max-width: 700px;
      margin: 3rem auto;
      background:#1a1a1a;
      padding: 2rem;
      border-radius: 1rem;
    }

    input, textarea, button, select {
      width:100%;
      margin: .4rem 0;
      padding: .6rem;
      border-radius: .4rem;
      border: none;
      background:#222;
      color:white;
    }

    button {
      cursor:pointer;
      background:#3a3;
      color:black;
      font-weight:bold;
    }

    textarea {
      resize: vertical;
      min-height: 100px;
      background:#000;
      color:#0f0;
      font-family: monospace;
    }

    h1,h2,h3 {
      margin-top:1.5rem;
    }

    hr {
      margin:2rem 0;
      border:1px solid #333;
    }
  </style>
</head>

<body>

<div class="panel" id="admin-panel">

  <h1>JSON Helper</h1>

  <h2>Create Level JSON</h2>

  <input id="levelId" placeholder="ID (number)">
  <input id="levelName" placeholder="Level name">
  <input id="levelCreators" placeholder="Creators (comma separated)">
  <input id="levelVerifier" placeholder="Verifier">
  <input id="levelVerifLink" placeholder="Verification link">
  <input id="levelShowcase" placeholder="Showcase link">
  <input id="levelPercent" placeholder="Percent to qualify (ex: 100)">
  <input id="levelTags" placeholder="Tags (comma separated)">

  <button onclick="generateLevelJSON()">Generate JSON</button>

  <textarea id="levelOutput" readonly></textarea>
  <button onclick="copyText('levelOutput')">Copy</button>

  <hr>

  <h2>Add Record JSON</h2>

  <input id="recUser" placeholder="Username">
  <input id="recLink" placeholder="Video link">
  <input id="recPercent" placeholder="Percent (number)">
  <select id="recMobile">
    <option value="false">PC</option>
    <option value="true">Mobile</option>
  </select>

  <button onclick="generateRecord()">Generate Record</button>

  <textarea id="recordOutput" readonly></textarea>
  <button onclick="copyText('recordOutput')">Copy</button>

</div>

<script>
function addToList(){
  const key = document.getElementById("levelKey").value.trim();
  if(!key){ alert("Missing key!"); return; }

  document.getElementById("listOutput").value = `"${key}",`;
}

function generateLevelJSON(){
  const id = document.getElementById("levelId").value.trim();
  const name = document.getElementById("levelName").value.trim();
  const creators = document.getElementById("levelCreators").value.trim();
  const verifier = document.getElementById("levelVerifier").value.trim();
  const verif = document.getElementById("levelVerifLink").value.trim();
  const show = document.getElementById("levelShowcase").value.trim();
  const percent = document.getElementById("levelPercent").value.trim();
  const tags = document.getElementById("levelTags").value.trim();

  const json = {
    id: Number(id),
    name,
    creators: creators.split(",").map(s => s.trim()),
    verifier,
    verification: verif,
    showcase: show || "EMPTY",
    percentToQualify: Number(percent),
    records: [],
    tags: tags ? tags.split(",").map(s => s.trim()) : []
  };

  document.getElementById("levelOutput").value = JSON.stringify(json, null, 2);
}

function generateRecord(){
  const user = document.getElementById("recUser").value.trim();
  const link = document.getElementById("recLink").value.trim();
  const percent = Number(document.getElementById("recPercent").value.trim());
  const mobile = document.getElementById("recMobile").value === "true";

  const json = {
    user,
    link,
    percent,
    mobile
  };

  document.getElementById("recordOutput").value = JSON.stringify(json, null, 2);
}

function copyText(id){
  const area = document.getElementById(id);
  area.select();
  document.execCommand("copy");
}
</script>

</body>
</html>
